<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    {% load static %}

    <!-- HTMX for dynamic content loading -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- CSRF token for HTMX: Django requires CSRF tokens for POST requests, HTMX sends them via headers -->
    <meta name="csrf-token" content="{{ csrf_token }}">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.body.addEventListener('htmx:configRequest', function(event) {
                event.detail.headers['X-CSRFToken'] = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
            });
        });
    </script>
    
    <link href="{% static 'css/darkly.min.css' %}" rel="stylesheet">
    <title>PEA Manager</title>
</head>
<body>
    {% if request.resolver_match.url_name != 'home' %}
        {% include 'navbar.html' %}
    {% endif %}
    {% block content %}
    {% endblock %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

{% block extra_js %}{% endblock %}

</body>

</html> 